#!/bin/bash

# 定义颜色
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
LIGHTBLUE='\033[1;34m'  # 亮蓝色
LIGHTCYAN='\033[1;36m'  # 亮青色
NC='\033[0m' # No Color

# 显示主机信息
show_system_info() {
    # 获取主机名和系统信息
    hostname=$(hostname)
    os_info=$(lsb_release -d | awk -F: '{print $2}' | xargs)
    kernel_version=$(uname -r)
    
    # 获取CPU信息
    cpu_info=$(lscpu | grep "Model name" | awk -F: '{print $2}' | xargs)
    cpu_arch=$(uname -m)
    cpu_cores=$(nproc)
    cpu_speed=$(lscpu | grep "CPU MHz" | awk -F: '{print $2}' | xargs)
    
    # 获取内存信息
    mem_total=$(free -m | grep Mem | awk '{print $2}')
    mem_used=$(free -m | grep Mem | awk '{print $3}')
    
    # 获取硬盘使用情况
    disk_total=$(df -h / | awk 'NR==2 {print $2}')
    disk_used=$(df -h / | awk 'NR==2 {print $3}')
    
    # 获取网络信息
    network_in=$(cat /proc/net/dev | grep eth0 | awk '{print $2}')
    network_out=$(cat /proc/net/dev | grep eth0 | awk '{print $10}')
    
    # 获取地理位置
    location=$(curl -s https://ipinfo.io | jq -r '.city, .region, .country')

    # 获取IPv6地址
    ipv6_address=$(ip -6 addr show dev eth0 | grep inet6 | awk '{print $2}' | cut -d/ -f1)
    
    # 获取系统运行时长
    uptime_days=$(uptime -p | sed -E 's/up\s+([0-9]+)\s+day.*$/\1 day/')
    
    # 输出系统信息
    echo -e "${GREEN}主机名: ${NC}$hostname"
    echo -e "${GREEN}系统版本: ${NC}$os_info"
    echo -e "${GREEN}内核版本: ${NC}$kernel_version"
    echo -e "${GREEN}CPU架构: ${NC}$cpu_arch"
    echo -e "${GREEN}CPU型号: ${NC}$cpu_info"
    echo -e "${GREEN}CPU核心数: ${NC}$cpu_cores"
    echo -e "${GREEN}CPU频率: ${NC}$cpu_speed MHz"
    echo -e "${GREEN}内存: ${NC}$mem_used/$mem_total MB"
    echo -e "${GREEN}硬盘使用: ${NC}$disk_used/$disk_total"
    echo -e "${GREEN}网络接收: ${NC}$network_in KB"
    echo -e "${GREEN}网络发送: ${NC}$network_out KB"
    echo -e "${GREEN}地理位置: ${NC}$location"
    echo -e "${GREEN}IPv6地址: ${NC}$ipv6_address"
    echo -e "${GREEN}系统运行时长: ${NC}$uptime_days"
}

# 执行显示系统信息函数
show_system_info